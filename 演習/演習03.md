# Gitの基本操作

##  1. feature_bブランチに変更を行う

ここまでの演習を参考に、2で作成したfeature_bブランチに次の変更を行い、コミットしてください。

※ **feature_bブランチに切り替えて作業を開始する必要があることに注意**

- 新たに「FeatureB.md」というファイルを作成する
	- 中身は空でOK
- READMEに以下の行を追加する

```md
# 見出し

## 箇条書きの例

- 箇条書き1
- 箇条書き2
- 箇条書き3

## 番号付きリストの例

1. リスト1
2. リスト2
3. リスト3

## 機能一覧

- FeatureB
```

変更を行ったら結果は次のようになるはずです。

```bash
git log
```

結果

```bash
% git log
commit 7e03b5cc2e5f72050410949ecbb89728bee10519 (HEAD -> feature_b)
Author: riku.kataoka <riku.kataoka@optim.co.jp>
Date:   Tue Mar 12 14:25:08 2024 +0900

    FeatureBを追加

commit a4d697e89a886a17005a3de477ee708ac66b2fd9
Author: riku.kataoka <riku.kataoka@optim.co.jp>
Date:   Tue Mar 12 11:29:46 2024 +0900

    箇条書きリストの追加
```

## 2. feature_bブランチをmainブランチにマージする

```bash
git switch main
git merge feature_b
```

次のようにコンフリクトが発生したメッセージが表示されます。

結果

```bash
% git merge feature_b
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
Automatic merge failed; fix conflicts and then commit the result.
```

`git status`を確認すると・・・

```bash
git status
```

結果

```bash
% git status                                                     (git)-[main|merge]
On branch main
You have unmerged paths.
  (fix conflicts and run "git commit")
  (use "git merge --abort" to abort the merge)

Changes to be committed:
        new file:   FeatureB.md

Unmerged paths:
  (use "git add <file>..." to mark resolution)
        both modified:   README.md
```

このように、衝突しないファイル追加の変更は自動的にadd(ステージング)された状態となっており、
衝突しているファイルは、`both modified`と表示されます。


## 3. コンフリクトを解消する

 コンフリクトが起きているファイルを開きます。
 今回は機能Aと機能Bが両方取り込まれていることが期待結果であるため、
 次のように編集します。

```md
# 見出し

## 箇条書きの例

- 箇条書き1
- 箇条書き2
- 箇条書き3

## 番号付きリストの例

1. リスト1
2. リスト2
3. リスト3

## 機能一覧

- FeatureA
- FeatureB
```

VSCodeでは競合した箇所が分かりやすく表現されているため、取り込みしやすいかと思います。

## 4. 変更点をadd(ステージング)してcommitする

変更点をaddしてcommitします。

```bash
git add .
git commit
```

commitを実行すると、いつもとは違うメッセージが既に記載されたマージコミット用の状態でエディターが開きます。

コンフリクトした場所を後から追いやすくするには、ここでコメントを編集することがありますが、
今回は特に変更せずcommitします。

commitを行ったらマージコミットが作成され、変更点がマージされたことが分かります。

```bash
git log
```

結果

```bash
% git log
commit 702f063a89efc6fdf1a2382eaa439f5ef8e11624 (HEAD -> main)
Merge: a368288 7e03b5c
Author: riku.kataoka <riku.kataoka@optim.co.jp>
Date:   Tue Mar 12 15:24:03 2024 +0900

    Merge branch 'feature_b'

commit 7e03b5cc2e5f72050410949ecbb89728bee10519 (feature_b)
Author: riku.kataoka <riku.kataoka@optim.co.jp>
Date:   Tue Mar 12 14:25:08 2024 +0900

    FeatureBを追加

commit a36828847f1c7535248f6731330009d55151966b
Merge: a4d697e bf02562
Author: riku.kataoka <riku.kataoka@optim.co.jp>
Date:   Tue Mar 12 14:09:35 2024 +0900

    Merge branch 'feature_a'
```
